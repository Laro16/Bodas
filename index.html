<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invitación de Boda · Jimena & David</title>
  <meta name="description" content="Invitación digital para boda optimizada para celular, con slider, música, contador, WhatsApp y efectos" />
  <meta name="theme-color" content="#b08d57" />

  <!-- Tipografías elegantes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --brand:#b08d57;           /* oro cálido */
      --brand-2:#9b7c48;         /* oro profundo */
      --ink:#2b2a28;             /* texto principal */
      --muted:#6e6a60;           /* texto secundario */
      --bg:#f8f4ee;              /* papel */
      --card:#ffffff;            /* tarjetas */
      --radius:22px;             /* radios globales */
      --maxw:1100px;
      --shadow: 0 18px 40px rgba(0,0,0,.12), 0 4px 12px rgba(0,0,0,.08);
      --shadow-soft: 0 10px 24px rgba(0,0,0,.10), 0 2px 6px rgba(0,0,0,.06);
      --glass-border-light:rgba(0,0,0,.08);
      --gold-grad: linear-gradient(135deg, #e8d6a2, #b89253 45%, #e6cf93 70%, #a7803f);
      --hairline:#00000014;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--ink);
      font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,'Helvetica Neue',Arial;
      line-height:1.65;
      background:
        radial-gradient(1px 1px at 12% 18%, rgba(176,141,87,.18) 0 1px, transparent 1.2px),
        radial-gradient(1px 1px at 78% 42%, rgba(176,141,87,.16) 0 1px, transparent 1.2px),
        radial-gradient(1px 1px at 32% 76%, rgba(176,141,87,.14) 0 1px, transparent 1.2px),
        radial-gradient(1px 1px at 60% 12%, rgba(176,141,87,.16) 0 1px, transparent 1.2px),
        repeating-linear-gradient(145deg, rgba(0,0,0,.018) 0 2px, rgba(255,255,255,.018) 2px 4px),
        var(--bg);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }
    img{max-width:100%; display:block}
    ul,ol{margin:0; padding:0; list-style:none}
    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--maxw); margin:0 auto; padding:0 16px}

    /* ================= HERO ================= */
    header.hero{
      min-height:86svh; display:grid; place-items:center; text-align:center; position:relative; overflow:hidden; color:#fff;
      background:
        radial-gradient(160% 70% at 50% 90%, rgba(0,0,0,.70) 0 40%, rgba(0,0,0,.45) 60%, rgba(0,0,0,.25) 75%, rgba(0,0,0,.10) 100%),
        url('assets/imagenes/hero-portada.jpg') center/cover no-repeat;
      isolation:isolate;
    }
    header.hero::after{ /* brillo suave superior */
      content:""; position:absolute; inset:0; background:radial-gradient(80% 40% at 50% 0%, rgba(255,255,255,.10), transparent 60%); pointer-events:none;
    }
    header .badge{
      display:inline-block; padding:.32rem .72rem; font-weight:700; letter-spacing:.12em; text-transform:uppercase; font-size:.8rem;
      background:transparent; border:1px solid rgba(255,255,255,.38); border-radius:999px; backdrop-filter: blur(2px);
    }
    header h1{
      font-family:'Playfair Display',serif; font-weight:700;
      font-size:clamp(36px,7.5vw,72px); margin:.5rem 0 .25rem; line-height:1.06;
      text-shadow:0 3px 22px rgba(0,0,0,.45);
      letter-spacing:.5px;
    }
    header p.sub{color:#f5efe3; margin:.3rem 0 .9rem}

    .cta-row{display:flex; gap:.7rem; justify-content:center; flex-wrap:wrap}
    .btn{
      appearance:none; border:1px solid var(--glass-border-light);
      background: var(--gold-grad); color:#2d1f08; font-weight:800;
      padding:.85rem 1.05rem; border-radius:16px; cursor:pointer; box-shadow:var(--shadow-soft);
      transform:translateY(0);
      transition:transform .18s ease, box-shadow .18s ease, filter .18s ease, background .18s ease;
      position:relative; overflow:hidden; touch-action:manipulation;
      display:inline-flex; align-items:center; gap:.55rem;
    }
    .btn:hover{transform:translateY(-2px); box-shadow:var(--shadow); filter:saturate(1.05)}
    .btn:active{transform:translateY(0)}
    .btn:focus-visible{outline:none; box-shadow:0 0 0 3px rgba(176,141,87,.35), var(--shadow)}

    /* Botones del hero en modo ghost */
    header .btn{ background:transparent; color:#fff; border-color:rgba(255,255,255,.38); box-shadow:0 8px 24px rgba(0,0,0,.15) }
    header .btn:hover{ background:rgba(255,255,255,.10) }

    /* ================= Countdown ================= */
    .countdown{display:flex; justify-content:center; gap:16px; margin:16px auto 6px; z-index:2}
    .time-box{
      min-width:74px; border-radius:999px; padding:10px 14px; text-align:center; color:#fff; position:relative; overflow:hidden;
      background:linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.36);
      box-shadow:inset 0 1px 0 rgba(255,255,255,.25), 0 8px 24px rgba(0,0,0,.18);
      transition:transform .15s ease, box-shadow .15s ease;
      backdrop-filter: blur(6px);
    }
    .time-box:hover{transform:translateY(-1px); box-shadow:0 12px 30px rgba(0,0,0,.22)}
    .time-box .num{font-size:clamp(26px,5.8vw,36px); font-weight:900; letter-spacing:.02em; display:block; text-shadow:0 1px 6px rgba(0,0,0,.35); line-height:1}
    .time-box .label{font-size:11px; opacity:.92; margin-top:2px; letter-spacing:.08em; text-transform:uppercase}
    .time-box .ping{ position:absolute; width:12px; height:12px; border-radius:999px; background:radial-gradient(circle, rgba(255,255,255,.95) 0 35%, rgba(176,141,87,.65) 35% 65%, rgba(176,141,87,0) 70%); left:var(--x,50%); top:var(--y,50%); transform:translate(-50%,-50%); animation:pingBrand 800ms ease-out forwards; pointer-events:none; }
    @keyframes pingBrand{from{opacity:.9; transform:translate(-50%,-50%) scale(.6)}to{opacity:0; transform:translate(-50%,-50%) scale(9)}}

    /* ================= Secciones ================= */
    section.sectioned{padding:90px 0 84px; position:relative}
    section.sectioned::before{
      content:""; position:absolute; top:26px; left:50%; transform:translateX(-50%);
      width:min(560px,84%); height:1px; background:linear-gradient(90deg, transparent, rgba(176,141,87,.65), transparent);
    }
    section.sectioned::after{
      content:""; position:absolute; top:22px; left:50%; transform:translateX(-50%);
      width:10px; height:10px; border-radius:999px; background:rgba(176,141,87,.85);
      box-shadow:0 0 0 6px rgba(176,141,87,.18);
    }

    .title{font-family:'Playfair Display',serif; font-weight:700; font-size:clamp(24px,5.2vw,44px); margin:0 0 10px; text-align:center; letter-spacing:.3px}
    .subtitle{color:var(--muted); text-align:center; margin:-2px auto 30px; max-width:720px}

    /* ================= Slider ================= */
    .slider{position:relative; overflow:hidden; border-radius:var(--radius); box-shadow:var(--shadow); background:var(--card); border:1px solid var(--glass-border-light)}
    .slides{display:flex; transition:transform .6s cubic-bezier(.22,.75,.18,1); touch-action:pan-y; will-change:transform}
    .slide{min-width:100%; height:62svh; position:relative; background:#eee}
    .slide img{width:100%; height:100%; object-fit:cover; transition:transform .9s ease, opacity .6s ease}
    .slide.is-active img{transform:scale(1.03)}
    .slide.leaving img{opacity:.85; filter:blur(2px); transform:scale(1.05)}
    .overlay{
      position:absolute; left:12px; right:12px; bottom:12px;
      background:rgba(255,255,255,.78); backdrop-filter: blur(4px);
      border:1px solid var(--hairline); color:var(--ink);
      padding:12px 14px; border-radius:14px; max-width:760px; margin-inline:auto; box-shadow:0 6px 18px rgba(0,0,0,.10);
      opacity:0; transform:translateY(8px); transition:opacity .6s ease, transform .6s ease;
    }
    .slide.is-active .overlay{opacity:1; transform:translateY(0)}
    .nav-btn{position:absolute; top:50%; translate:0 -50%; z-index:10; width:42px; height:42px; border-radius:999px; border:1px solid var(--hairline); background:rgba(255,255,255,.7); display:grid; place-items:center; cursor:pointer; box-shadow:0 8px 20px rgba(0,0,0,.12)}
    .nav-btn.prev{left:10px} .nav-btn.next{right:10px}
    .dots{position:absolute; inset:auto 0 12px; display:flex; gap:8px; justify-content:center; z-index:5}
    .dots button{width:8px; height:8px; border-radius:999px; border:0; background:rgba(0,0,0,.22)}
    .dots button[aria-current="true"]{background:rgba(176,141,87,.55)}

    /* ================= Grid / Cards ================= */
    .grid{display:grid; gap:16px}
    @media(min-width:720px){.grid.three{grid-template-columns:repeat(3,1fr)} .grid.two{grid-template-columns:repeat(2,1fr)}}
    .card{background:linear-gradient(180deg,rgba(255,255,255,1),rgba(255,255,255,.96)); border:1px solid var(--glass-border-light); border-radius:18px; overflow:hidden; box-shadow:var(--shadow-soft); transition:transform .18s ease, box-shadow .18s ease}
    .card:hover{transform:translateY(-3px); box-shadow:var(--shadow)}
    .card .body{padding:14px}
    .tag{display:inline-block; font-size:.72rem; padding:.28rem .55rem; border:1px solid var(--glass-border-light); border-radius:999px; color:var(--muted); background:#fff}
    .name{font-weight:800; margin:8px 0 2px; color:var(--ink)}
    .role{color:var(--muted)}

    /* ================= Botón “Ver ubicación” ================= */
    .center-actions{display:flex; justify-content:center; padding-top:8px}
    .btn.map{
      display:inline-flex; align-items:center; gap:.55rem;
      background:transparent; color:#3a2f1f; font-weight:800;
      border:1.5px solid rgba(176,141,87,.65); border-radius:999px;
      padding:.78rem 1.12rem; box-shadow:0 8px 20px rgba(0,0,0,.08);
      transition:background .18s ease, color .18s ease, transform .18s ease;
    }
    .btn.map:hover{background:var(--gold-grad); color:#211a12; border-color:transparent; transform:translateY(-2px)}
    .btn svg{width:18px; height:18px; display:block}
    .btn svg path{fill:currentColor}

    /* ================= Tocadiscos ================= */
    .player{position:fixed; right:12px; bottom:12px; z-index:50; display:flex; align-items:center; gap:.6rem; padding:.45rem .6rem; background:#ffffffd8; border:1px solid var(--glass-border-light); border-radius:999px; box-shadow:var(--shadow-soft)}
    .disc{width:24px; height:24px; border-radius:50%; background:
        radial-gradient(circle at 50% 50%, #333 0 6px, #111 7px 50%, #000 51% 100%),
        repeating-radial-gradient(circle at 50% 50%, rgba(255,255,255,.06) 0 2px, rgba(0,0,0,.12) 2px 4px);
      position:relative; flex:0 0 24px; box-shadow:inset 0 2px 6px rgba(255,255,255,.3), inset 0 -2px 8px rgba(0,0,0,.25);
      animation:spin 5s linear infinite; animation-play-state:paused}
    .disc::after{content:""; position:absolute; width:6px; height:6px; border-radius:50%; background:var(--brand); top:50%; left:50%; transform:translate(-50%,-50%)}
    .player.playing .disc{animation-play-state:running}
    @keyframes spin{to{transform:rotate(360deg)}}
    .player .label{font-weight:700; font-size:.86rem}
    .player .sub{font-size:.74rem; color:var(--muted); margin-top:-2px}
    .icon-btn{width:36px; height:36px; display:grid; place-items:center; border-radius:12px; border:1px solid var(--glass-border-light); background:#fff; box-shadow:var(--shadow-soft); cursor:pointer; transition:transform .18s ease, box-shadow .18s ease}
    .icon-btn:hover{transform:translateY(-1px); box-shadow:var(--shadow)}
    .icon{width:18px; height:18px; display:block}
    .icon path{fill:#3a342a}

    /* ================= Inputs / RSVP ================= */
    .field{display:flex; flex-direction:column; gap:.4rem}
    .input,.select{width:100%; padding:.9rem 1rem; border-radius:14px; border:1px solid var(--glass-border-light); background:#fff; box-shadow:var(--shadow-soft); outline:none; transition:box-shadow .18s ease, transform .18s ease, border-color .18s ease}
    .input:focus,.select:focus{box-shadow:var(--shadow); transform:translateY(-1px); border-color:var(--brand)}
    .helper{font-size:.95rem; color:var(--muted)}
    .btn.whatsapp{display:inline-flex; align-items:center; gap:.55rem; background:var(--gold-grad); color:#211a12; border:1px solid rgba(0,0,0,.06); box-shadow:var(--shadow-soft); font-weight:800}

    .rsvp-card{max-width:720px; margin:0 auto; padding:16px 14px 18px; background:linear-gradient(180deg,rgba(255,255,255,.94),rgba(255,255,255,.88)); border:1px solid rgba(176,141,87,.30); border-left:4px solid var(--brand); border-radius:18px; box-shadow:var(--shadow-soft)}
    .rsvp-accent{display:flex; align-items:center; gap:.6rem; margin:0 0 8px 2px; color:#7b6a4c}
    .rsvp-accent .dot{width:8px; height:8px; border-radius:999px; background:var(--brand)}

    /* ================= Timeline ================= */
    .timeline{position:relative; max-width:900px; margin:0 auto}
    .timeline::before{content:""; position:absolute; left:30px; top:0; bottom:0; width:3px; border-radius:3px; background:linear-gradient(180deg, rgba(176,141,87,.6), rgba(176,141,87,.15))}
    .tl-item{display:grid; grid-template-columns:80px 1fr; gap:12px; align-items:start; position:relative; margin-bottom:14px}
    .tl-time{font-weight:800; font-variant-numeric:tabular-nums; background:#fff; border:1px solid var(--glass-border-light); border-radius:999px; padding:.4rem .6rem; text-align:center; box-shadow:var(--shadow-soft); position:relative; z-index:2}
    .tl-dot{position:absolute; left:26px; top:18px; width:12px; height:12px; border-radius:50%; background:radial-gradient(circle at 40% 40%, #fff 0 2px, #d8c7aa 3px 6px, #b08d57 7px); box-shadow:0 2px 8px rgba(0,0,0,.15); z-index:1}
    .tl-card.card{background:linear-gradient(180deg,rgba(255,255,255,1),rgba(255,255,255,.96)); border:1px solid var(--glass-border-light); border-left:4px solid var(--brand)}
    .tl-card .body{padding:14px}
    .tl-card .place{color:var(--muted); font-size:.97rem}

    /* ================= Modal Padrinos ================= */
    .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; padding:18px; z-index:90}
    .modal.open{display:flex}
    .modal::before{content:""; position:absolute; inset:0; background:rgba(0,0,0,.45); backdrop-filter:blur(2px)}
    .dialog{position:relative; z-index:1; max-width:800px; width:min(92vw,820px); border-radius:22px; box-shadow:var(--shadow); border:1px solid rgba(0,0,0,.06); background:
      radial-gradient(1px 1px at 16% 22%, rgba(176,141,87,.22) 0 1px, transparent 1.2px),
      radial-gradient(1px 1px at 72% 44%, rgba(176,141,87,.18) 0 1px, transparent 1.2px),
      repeating-linear-gradient(145deg, rgba(0,0,0,.018) 0 2px, rgba(255,255,255,.018) 2px 4px),
      #fff;}
    .dialog .head{padding:16px 18px 0; text-align:center}
    .dialog .who{font-family:'Playfair Display',serif; font-size:clamp(20px,4.5vw,30px); font-weight:800}
    .dialog .role{color:var(--muted); margin-top:-6px}
    .dialog .content{padding:8px 18px 20px}
    .dialog .content p{font-family:"Times New Roman", Georgia, serif; font-size:clamp(16px,3.8vw,20px); line-height:1.75; color:#3a3327; margin:0}
    .dialog .close{position:absolute; top:10px; right:10px; width:40px; height:40px; border-radius:12px; border:1px solid rgba(0,0,0,.08); background:#fff; box-shadow:var(--shadow-soft); cursor:pointer}

    /* ================= Reveal ================= */
    .reveal{opacity:0; transform:translateY(18px); transition:opacity .7s ease, transform .7s ease}
    .reveal.visible{opacity:1; transform:none}

    /* ================= Footer firma ================= */
    footer.signature{ text-align:center; color:var(--muted) }
    footer.signature em{ font-family:'Playfair Display',serif; font-size:clamp(20px,4.8vw,28px); color:var(--brand-2) }

    @media (max-width:420px){.cta-row{gap:.55rem} .player .label,.player .sub{display:none}}
    @media (prefers-reduced-motion:reduce){*{animation:none!important; transition:none!important; scroll-behavior:auto!important}}
  </style>
</head>
<body>
  <!-- ===== HERO ===== -->
  <header class="hero" id="hero">
    <div class="wrap reveal">
      <span class="badge">Boda</span>
      <h1 id="couple">Jimena & David</h1>
      <p class="sub" id="eventDate">18 de septiembre de 2025 · 1:30 pm</p>

      <div id="countdown" class="countdown" aria-live="polite">
        <div class="time-box"><span class="num" id="cd-days">00</span><span class="label">Días</span></div>
        <div class="time-box"><span class="num" id="cd-hours">00</span><span class="label">Horas</span></div>
        <div class="time-box"><span class="num" id="cd-mins">00</span><span class="label">Minutos</span></div>
        <div class="time-box"><span class="num" id="cd-secs">00</span><span class="label">Segundos</span></div>
      </div>

      <p class="sub" id="place">Iglesia Retalhuleu · Recepción: Salón Las Morenas</p>

      <div class="cta-row">
        <button class="btn secondary" id="btnHistoria" aria-label="Ir a Nuestra Historia">
          <!-- book-open -->
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 5a3 3 0 0 1 3-3h13v17h-1a5 5 0 0 0-4 2 5 5 0 0 0-4-2H4V5zm2 1v11h6a3 3 0 0 1 3 1V4H7a1 1 0 0 0-1 1z"/></svg>
          Nuestra Historia
        </button>
        <button class="btn secondary" id="btnEscuchar" aria-label="Reproducir nuestra canción">
          <!-- music-note -->
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v11.55A4 4 0 1 1 10 18V7h9V3h-7z"/></svg>
          Reproducir nuestra canción
        </button>
        <button class="btn secondary" id="btnCalendar" title="Agregar al calendario" aria-label="Añadir al calendario">
          <!-- calendar-plus -->
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 2h2v2h6V2h2v2h3v18H4V4h3V2zm13 8H6v10h14V10zm-6 2h2v3h3v2h-3v3h-2v-3h-3v-2h3v-3z"/></svg>
          Añadir al calendario
        </button>
        <button class="btn secondary" id="btnShare" title="Compartir invitación" aria-label="Compartir invitación">
          <!-- share -->
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M18 16a3 3 0 0 0-2.24 1.03L8.91 13.7a3.03 3.03 0 0 0 0-3.4l6.85-3.33A3 3 0 1 0 15 5a3 3 0 0 0 .09.72L8.24 9.05a3 3 0 1 0 0 5.9l6.85 3.33A3 3 0 1 0 18 16z"/></svg>
          Compartir
        </button>
      </div>
    </div>
  </header>

  <!-- ===== Tocadiscos mini ===== -->
  <div class="player" id="player" role="region" aria-label="Reproductor de música">
    <div class="disc" aria-hidden="true"></div>
    <div>
      <div class="label">Nuestra canción</div>
      <div class="sub" id="playerState">Pausada</div>
    </div>
    <button class="icon-btn" id="btnMusic" aria-label="Reproducir / Pausar" title="Reproducir / Pausar">
      <svg class="icon" id="icoPlay" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>
      <svg class="icon" id="icoPause" viewBox="0 0 24 24" aria-hidden="true" style="display:none"><path d="M6 5h4v14H6zm8 0h4v14h-4z"/></svg>
    </button>
    <button class="icon-btn" id="btnMute" aria-label="Silenciar / Activar" title="Silenciar / Activar">
      <svg class="icon" id="icoVol" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 10v4h4l5 4V6l-5 4H4zm12.5 2a4.5 4.5 0 0 0-2.3-3.9v7.8a4.5 4.5 0 0 0 2.3-3.9z"/></svg>
      <svg class="icon" id="icoMute" viewBox="0 0 24 24" aria-hidden="true" style="display:none"><path d="M16.5 12a4.5 4.5 0 0 1-2.3 3.9V8.1A4.5 4.5 0 0 1 16.5 12zM4 10v4h4l5 4V6l-5 4H4zm12.6 6.2 1.4 1.4L21.6 18l-1.8-1.8L21.6 14l-1.4-1.4-1.8 1.8-1.8-1.8L15.2 14l1.8 1.8-1.8 1.8z"/></svg>
    </button>
  </div>

  <!-- ===== Nuestra Historia ===== -->
  <section id="historia" class="wrap reveal sectioned">
    <h2 class="title">Nuestra Historia</h2>
    <p class="subtitle">Desliza para ver los momentos que los llevaron al “sí”. Cada foto tiene su nota y fecha.</p>

    <div class="slider" data-slider>
      <button class="nav-btn prev" data-prev aria-label="Anterior">⟵</button>
      <button class="nav-btn next" data-next aria-label="Siguiente">⟶</button>

      <ul class="slides" data-slides>
        <li class="slide">
          <img src="assets/imagenes/historia-1.jpg" alt="Cuando nos conocimos" loading="lazy" decoding="async"/>
          <div class="overlay"><b>Fecha: 02-09-2025</b> · Cuando nos conocimos. Una mirada bastó para empezar la aventura.</div>
        </li>
        <li class="slide">
          <img src="assets/imagenes/historia-2.jpg" alt="Primera cita" loading="lazy" decoding="async"/>
          <div class="overlay"><b>Fecha: 16-10-2025</b> · Primera cita. Risas, café y mil planes por delante.</div>
        </li>
        <li class="slide">
          <img src="assets/imagenes/historia-3.jpg" alt="Primer viaje" loading="lazy" decoding="async"/>
          <div class="overlay"><b>Fecha: 08-01-2026</b> · Nuestro primer viaje. Descubrimos que el mejor destino es estar juntos.</div>
        </li>
        <li class="slide">
          <img src="assets/imagenes/historia-4.jpg" alt="La propuesta" loading="lazy" decoding="async"/>
          <div class="overlay"><b>Fecha: 12-02-2027</b> · ¡Dijo que sí! El comienzo de una nueva etapa.</div>
        </li>
      </ul>
      <div class="dots" data-dots></div>
    </div>
  </section>

  <!-- ===== Padrinos ===== -->
  <section id="padrinos" class="wrap reveal sectioned">
    <h2 class="title">Padrinos</h2>
    <div class="grid three">
      <article class="card reveal">
        <img src="assets/imagenes/padrino-velacion.jpg" alt="Padrino de velación" loading="lazy" decoding="async"/>
        <div class="body">
          <span class="tag">Velación</span>
          <div class="name">Carlos Mendoza</div>
          <div class="role">Padrino de Velación</div>
          <button class="btn" data-open-modal data-who="Carlos Mendoza" data-role="Padrino de Velación" data-text="Carlos ha sido un guía espiritual para nosotros. Su ejemplo de amor y servicio nos inspiró desde el inicio; por eso deseamos que bendiga esta nueva etapa con su presencia.">
            <svg viewBox="0 0 24 24"><path d="M12 3l7 4v10l-7 4-7-4V7l7-4zm0 2.2L7 7.5v8.9l5 2.8 5-2.8V7.5l-5-2.3z"/></svg>
            Ver por qué lo elegimos
          </button>
        </div>
      </article>

      <article class="card reveal">
        <img src="assets/imagenes/madrina-anillos.jpg" alt="Madrina de anillo" loading="lazy" decoding="async"/>
        <div class="body">
          <span class="tag">Anillo</span>
          <div class="name">María López</div>
          <div class="role">Madrina de Anillo</div>
          <button class="btn" data-open-modal data-who="María López" data-role="Madrina de Anillo" data-text="María nos ha acompañado en momentos clave de nuestra historia. Su amor y amistad representan el compromiso que hoy sellamos con los anillos.">
            <svg viewBox="0 0 24 24"><path d="M12 7a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm0-5l2 3h-4l2-3z"/></svg>
            Ver por qué la elegimos
          </button>
        </div>
      </article>

      <article class="card reveal">
        <img src="assets/imagenes/padrino-arras.jpg" alt="Padrino de arras" loading="lazy" decoding="async"/>
        <div class="body">
          <span class="tag">Arras</span>
          <div class="name">Jorge Ramírez</div>
          <div class="role">Padrino de Arras</div>
          <button class="btn" data-open-modal data-who="Jorge Ramírez" data-role="Padrino de Arras" data-text="Jorge nos enseñó el valor de la generosidad y el trabajo en equipo. Las arras simbolizan esa confianza compartida que queremos en nuestra familia.">
            <svg viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm1 5v5h4v2h-6V7h2z"/></svg>
            Ver por qué lo elegimos
          </button>
        </div>
      </article>
    </div>
  </section>

  <!-- ===== Lugares ===== -->
  <section id="lugares" class="wrap reveal sectioned">
    <h2 class="title">Lugares</h2>
    <p class="subtitle">Ceremonia y recepción. Toca “Ver ubicación” para abrir el mapa.</p>
    <div class="grid two">
      <article class="card reveal">
        <div class="place-media" style="height:240px; overflow:hidden">
          <img src="assets/imagenes/ceremonia.jpg" alt="Lugar de la ceremonia" loading="lazy" decoding="async"/>
        </div>
        <div class="body">
          <h3 style="margin:.2rem 0 .4rem">Ceremonia — Iglesia Retalhuleu</h3>
          <p class="helper">Llegar 15 minutos antes. Estacionamiento frente a la entrada.</p>
          <div class="center-actions">
            <a class="btn map" href="https://maps.google.com/?q=Iglesia%20Retalhuleu" target="_blank" rel="noopener" aria-label="Ver ubicación de Iglesia Retalhuleu">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z"/></svg>
              Ver ubicación
            </a>
          </div>
        </div>
      </article>
      <article class="card reveal">
        <div class="place-media" style="height:240px; overflow:hidden">
          <img src="assets/imagenes/recepcion.jpg" alt="Lugar de la recepción" loading="lazy" decoding="async"/>
        </div>
        <div class="body">
          <h3 style="margin:.2rem 0 .4rem">Recepción — Salón Las Morenas</h3>
          <p class="helper">Cena, brindis y baile.</p>
          <div class="center-actions">
            <a class="btn map" href="https://maps.google.com/?q=Salon%20Las%20Morenas" target="_blank" rel="noopener" aria-label="Ver ubicación de Salón Las Morenas">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z"/></svg>
              Ver ubicación
            </a>
          </div>
        </div>
      </article>
    </div>
  </section>

  <!-- ===== Itinerario ===== -->
  <section id="itinerario" class="wrap reveal sectioned">
    <h2 class="title">Itinerario</h2>
    <ul class="timeline">
      <li class="tl-item">
        <div class="tl-time">6:00 pm</div>
        <div class="tl-card card"><div class="body"><b>Ceremonia</b><div class="place">Iglesia Retalhuleu. Llegar 15 minutos antes.</div></div></div>
        <span class="tl-dot" aria-hidden="true"></span>
      </li>
      <li class="tl-item">
        <div class="tl-time">8:00 pm</div>
        <div class="tl-card card"><div class="body"><b>Recepción</b><div class="place">Salón Las Morenas. Cena, brindis y baile.</div></div></div>
        <span class="tl-dot" aria-hidden="true"></span>
      </li>
      <li class="tl-item">
        <div class="tl-time">10:30 pm</div>
        <div class="tl-card card"><div class="body"><b>Pastel</b><div class="place">Corte del pastel y fotos.</div></div></div>
        <span class="tl-dot" aria-hidden="true"></span>
      </li>
      <li class="tl-item">
        <div class="tl-time">12:00 am</div>
        <div class="tl-card card"><div class="body"><b>Despedida</b><div class="place">Gracias por acompañarnos. 💕</div></div></div>
        <span class="tl-dot" aria-hidden="true"></span>
      </li>
    </ul>
  </section>

  <!-- ===== RSVP ===== -->
  <section id="rsvp" class="wrap reveal sectioned">
    <h2 class="title">Confirmar asistencia</h2>
    <p class="subtitle">Por favor confirma tu asistencia un mes antes del evento. ¡Gracias!</p>

    <form class="rsvp-card" id="rsvpForm">
      <div class="rsvp-accent"><span class="dot" aria-hidden="true"></span><strong>Tu espacio</strong> · Nos encantará contar contigo</div>
      <div class="grid" style="grid-template-columns:1fr; gap:12px">
        <label class="field">
          <span>Tu nombre completo</span>
          <input class="input" id="guestName" name="guestName" type="text" placeholder="Tu nombre completo" required />
        </label>
        <label class="field">
          <span>Cantidad de acompañantes</span>
          <select class="select" id="companions" name="companions">
            <option value="0">Asistiré sin acompañantes</option>
            <option value="1">Asistiré con 1 acompañante</option>
            <option value="2">Asistiré con 2 acompañantes</option>
            <option value="3">Asistiré con 3 acompañantes</option>
            <option value="4">Asistiré con 4 acompañantes</option>
            <option value="5">Asistiré con 5 acompañantes</option>
            <option value="-1">No podré asistir</option>
          </select>
        </label>
        <div style="display:flex; gap:.8rem; align-items:center; flex-wrap:wrap">
          <button type="submit" class="btn whatsapp" id="btnWhatsapp" aria-label="Confirmar por WhatsApp">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="#211a12" d="M20.5 3.5a10 10 0 0 0-16.2 11.3L3 21l6.4-1.3A10 10 0 0 0 20.5 3.5Zm-1.1 13a8 8 0 0 1-11.8 1.5l-.3-.2-3 .6.6-2.9-.2-.3A8 8 0 1 1 19.4 16.5ZM8.9 7.9c.2-.5.4-.5.7-.5h.6c.2 0 .5 0 .7.5s.9 1.5.9 1.6.1.4 0 .6-.2.4-.4.6-.4.5-.2.9c.2.4 1 1.6 2.1 2.6 1.5 1.3 2.7 1.7 3.1 1.9s.5 0 .7-.2.8-.9 1-1.2.4-.2.6-.1.6.3 1.4.7 1.2.6 1.4.9.1.9-.2 1.5c-.3.6-1.2 1.1-1.6 1.1s-.9.2-3-.8a13.6 13.6 0 0 1-3.8-2.4 12.2 12.2 0 0 1-2.2-2.6c-.8-1.2-1.1-2.1-1.2-2.4-.2-.4 0-.8.1-1s.5-1.2.6-1.4Z"/></svg>
            Confirmar por WhatsApp
          </button>
          <span class="helper">También puedes llamar al <a href="tel:54389207">54 38 92 07</a>.</span>
        </div>
      </div>
    </form>
  </section>

  <footer class="signature reveal sectioned">
    <div>Con cariño,</div>
    <em>Escobar</em>
  </footer>

  <!-- ===== Modal Padrinos ===== -->
  <div class="modal" id="modal">
    <div class="dialog">
      <button class="close" id="closeModal" aria-label="Cerrar">✕</button>
      <div class="head">
        <div class="who" id="mWho">Nombre</div>
        <div class="role" id="mRole">Rol</div>
      </div>
      <div class="content">
        <p id="mText">Texto…</p>
      </div>
    </div>
  </div>

  <!-- ===== Audio (rutas se mantienen) ===== -->
  <audio id="bgMusic" src="assets/imagenes/musica/fondo.mp3" preload="auto" loop></audio>
  <audio id="voiceInvite" src="assets/musica/invitacion.mp3" preload="auto"></audio>

  <!-- ===== JS original del usuario (sin cambios funcionales) ===== -->
  <script>
    const $  = (s, el=document) => el.querySelector(s);
    const $$ = (s, el=document) => [...el.querySelectorAll(s)];

    // Scroll a historia
    $('#btnHistoria')?.addEventListener('click', ()=> $('#historia').scrollIntoView({behavior:'smooth'}));

    // ===== Slider con transición =====
    const slider = $('[data-slider]'), track=slider?.querySelector('[data-slides]');
    const slides = $$('.slide', slider), dotsC=slider?.querySelector('[data-dots]');
    const prev   = slider?.querySelector('[data-prev]'), next=slider?.querySelector('[data-next]');
    let i=0, x0=null, autoTimer=null;

    function markActive(prevIdx){
      if (typeof prevIdx === 'number'){
        slides[prevIdx]?.classList.add('leaving');
        setTimeout(()=> slides[prevIdx]?.classList.remove('leaving'), 550);
      }
      slides.forEach(s=> s.classList.remove('is-active'));
      slides[i].classList.add('is-active');
      if(dotsC) [...dotsC.children].forEach((d,idx)=> d.setAttribute('aria-current', idx===i));
    }
    function go(n){
      if(!track) return;
      const prevIdx=i;
      i = (n + slides.length) % slides.length;
      track.style.transform = `translateX(${-i*100}%)`;
      markActive(prevIdx);
    }
    function auto(){ clearInterval(autoTimer); autoTimer=setInterval(()=>go(i+1), 6000); }
    slides.forEach((_s, idx)=>{
      const b=document.createElement('button');
      b.type='button'; b.setAttribute('aria-label',`Ir a la foto ${idx+1}`);
      b.addEventListener('click',()=>{go(idx);auto();});
      dotsC.appendChild(b);
    });
    markActive(); auto();
    prev?.addEventListener('click', ()=>{ go(i-1); auto(); });
    next?.addEventListener('click', ()=>{ go(i+1); auto(); });
    track?.addEventListener('pointerdown', e=>{ x0 = e.clientX; track.setPointerCapture(e.pointerId); clearInterval(autoTimer); });
    track?.addEventListener('pointerup',   e=>{ if(x0===null) return; const dx=e.clientX - x0; x0=null; if(Math.abs(dx) > 40) go(i + (dx<0?1:-1)); auto(); });
    window.addEventListener('keydown', e=>{ if(e.key==='ArrowRight'){go(i+1);auto();} if(e.key==='ArrowLeft'){go(i-1);auto();} });

    // ===== Audio =====
    const bg=$('#bgMusic'), voice=$('#voiceInvite');
    const player=$('#player'), playerState=$('#playerState');
    const icoPlay=$('#icoPlay'), icoPause=$('#icoPause'), icoVol=$('#icoVol'), icoMute=$('#icoMute');
    let bgStarted=false;

    function updBtns(){
      const p=bg.paused, m=bg.muted;
      player.classList.toggle('playing',!p);
      playerState.textContent=p?'Pausada':'Reproduciendo';
      icoPlay.style.display=p?'block':'none';
      icoPause.style.display=p?'none':'block';
      icoVol.style.display=m?'none':'block';
      icoMute.style.display=m?'block':'none';
    }
    function tryStartBg(){
      if(!bgStarted){ bg.volume=.6; bg.play().then(()=>{bgStarted=true;updBtns();}).catch(()=>{}); }
    }
    $('#btnMusic')?.addEventListener('click', ()=>{ if(bg.paused) bg.play(); else bg.pause(); updBtns(); });
    $('#btnMute')?.addEventListener('click', ()=>{ bg.muted=!bg.muted; updBtns(); });
    $('#btnEscuchar')?.addEventListener('click', ()=>{ if(!bgStarted || bg.paused){ tryStartBg(); } else { bg.pause(); } updBtns(); });
    document.addEventListener('click', tryStartBg, {once:true});
    bg.addEventListener('play', updBtns); bg.addEventListener('pause', updBtns);
    voice?.addEventListener('play', ()=>{ if(!bg.paused){ bg.pause(); updBtns(); } });

    // ===== Contador + ping al tocar
    const target=new Date('2025-09-18T13:30:00'),
          d=$('#cd-days'), h=$('#cd-hours'), m=$('#cd-mins'), s=$('#cd-secs');
    function tick(){
      const now=new Date(); let diff=target-now;
      if (diff<=0){ d.textContent=h.textContent=m.textContent=s.textContent='00'; return; }
      const dd=Math.floor(diff/86400000); diff%=86400000;
      const hh=Math.floor(diff/3600000);  diff%=3600000;
      const mm=Math.floor(diff/60000);    diff%=60000;
      const ss=Math.floor(diff/1000);
      d.textContent=String(dd).padStart(2,'0');
      h.textContent=String(hh).padStart(2,'0');
      m.textContent=String(mm).padStart(2,'0');
      s.textContent=String(ss).padStart(2,'0');
    }
    tick(); setInterval(tick,1000);

    $$('.time-box').forEach(box=>{
      function pingAt(x,y){
        const r=document.createElement('span'); r.className='ping';
        const rect=box.getBoundingClientRect();
        r.style.setProperty('--x',(x-rect.left)+'px'); r.style.setProperty('--y',(y-rect.top)+'px');
        box.appendChild(r); r.addEventListener('animationend',()=> r.remove(), {once:true});
      }
      box.addEventListener('click', e=> pingAt(e.clientX, e.clientY));
      box.addEventListener('touchstart', e=>{ const t=e.touches[0]; if(t) pingAt(t.clientX, t.clientY); }, {passive:true});
    });

    // ===== Añadir al calendario (.ics)
    $('#btnCalendar')?.addEventListener('click', ()=>{
      const start=new Date('2025-09-18T13:30:00'), end=new Date(start.getTime()+4*60*60*1000);
      const pad=n=>String(n).padStart(2,'0');
      const fmt=d=>d.getUTCFullYear()+pad(d.getUTCMonth()+1)+pad(d.getUTCDate())+'T'+pad(d.getUTCHours())+pad(d.getUTCMinutes())+'00Z';
      const ics=['BEGIN:VCALENDAR','VERSION:2.0','PRODID:-//Creative Studio//Boda//ES','BEGIN:VEVENT','UID:'+Date.now()+'@boda','DTSTAMP:'+fmt(new Date()),'DTSTART:'+fmt(start),'DTEND:'+fmt(end),'SUMMARY:Boda de Jimena & David','LOCATION:Iglesia Retalhuleu; Recepción: Salón Las Morenas','DESCRIPTION:Acompáñanos en nuestro gran día 💕','END:VEVENT','END:VCALENDAR'].join('\r\n');
      const blob=new Blob([ics],{type:'text/calendar'}), url=URL.createObjectURL(blob);
      const a=document.createElement('a'); a.href=url; a.download='Boda-Jimena-David.ics'; document.body.appendChild(a); a.click(); a.remove();
      setTimeout(()=>URL.revokeObjectURL(url),5000);
    });

    // ===== Compartir
    $('#btnShare')?.addEventListener('click', async ()=>{
      const data={title:'Boda · Jimena & David', text:'Acompáñanos 💕', url:location.href};
      if (navigator.share){ try{ await navigator.share(data); } catch{} }
      else { try{ await navigator.clipboard.writeText(location.href); alert('Enlace copiado'); } catch{ alert('No se pudo copiar'); } }
    });

    // ===== RSVP → WhatsApp
    const WHATSAPP_NUMBER='54389207';
    $('#rsvpForm')?.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name=$('#guestName').value.trim();
      const companions=$('#companions').value;
      if(!name){ alert('Por favor, escribe tu nombre.'); return; }
      const compText = companions==='-1' ? 'No podré asistir'
        : (companions==='0' ? 'Asistiré sin acompañantes'
        : `Asistiré con ${companions} acompañante${companions==='1'?'':'s'}`);
      const msg=`Hola, soy ${name}. ${compText}. Evento: ${$('#eventDate')?.textContent?.trim()??''}. ${$('#place')?.textContent?.trim()??''}.`;
      window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`,'_blank');
    });

    // ===== Modal padrinos
    const modal=$('#modal'), closeModal=$('#closeModal');
    function openModal({who, role, text}){ $('#mWho').textContent=who; $('#mRole').textContent=role; $('#mText').textContent=text; modal.classList.add('open'); }
    $$('#padrinos [data-open-modal]').forEach(btn=> btn.addEventListener('click', ()=> openModal({who:btn.dataset.who, role:btn.dataset.role, text:btn.dataset.text})));
    closeModal.addEventListener('click', ()=> modal.classList.remove('open'));
    modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.classList.remove('open'); });

    // ===== Imágenes rotas → placeholder
    document.querySelectorAll('img').forEach(img=>{
      img.addEventListener('error', ()=>{
        const missing=img.getAttribute('src')||'';
        const ph=document.createElement('div');
        ph.style.cssText='display:grid;place-items:center;background:#f1f1f1;color:#b00;font:12px/1.2 system-ui,Arial;height:100%;text-align:center;padding:10px';
        ph.textContent='No se encontró:\n'+missing;
        img.replaceWith(ph);
        console.warn('Imagen no encontrada:', missing);
      }, {once:true});
    });

    // ===== Reveal en scroll
    const io=new IntersectionObserver((entries)=>{ entries.forEach(en=>{ if(en.isIntersecting){ en.target.classList.add('visible'); io.unobserve(en.target);} }); }, {threshold:.12});
    $$('.reveal').forEach(el=> io.observe(el));
  </script>
</body>
</html>
